[{"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\index.js":"1","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\App.js":"2","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\GlobalStyles.js":"3","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\components\\home-page\\index.jsx":"4","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\components\\poll-page\\index.jsx":"5","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\components\\log-in-page\\index.jsx":"6","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\components\\user-page\\index.jsx":"7","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\constant.js":"8","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\reducer\\user-reducer.js":"9","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\reducer\\action.js":"10","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\reducer\\store.js":"11","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\reducer\\index.js":"12","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\reducer\\poll-reducer.js":"13"},{"size":431,"mtime":1612314588518,"results":"14","hashOfConfig":"15"},{"size":1304,"mtime":1612992176014,"results":"16","hashOfConfig":"15"},{"size":1727,"mtime":1613437854789,"results":"17","hashOfConfig":"15"},{"size":12969,"mtime":1614892257440,"results":"18","hashOfConfig":"15"},{"size":7600,"mtime":1614892287453,"results":"19","hashOfConfig":"15"},{"size":6615,"mtime":1614893863185,"results":"20","hashOfConfig":"15"},{"size":3660,"mtime":1614817474795,"results":"21","hashOfConfig":"15"},{"size":474,"mtime":1613611229286,"results":"22","hashOfConfig":"15"},{"size":726,"mtime":1612321768557,"results":"23","hashOfConfig":"15"},{"size":593,"mtime":1612316204270,"results":"24","hashOfConfig":"15"},{"size":303,"mtime":1612230258239,"results":"25","hashOfConfig":"15"},{"size":175,"mtime":1612230243143,"results":"26","hashOfConfig":"15"},{"size":791,"mtime":1612313875949,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1ja0ftj",{"filePath":"31","messages":"32","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"30"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\index.js",[],["57","58"],"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\App.js",["59","60","61","62","63"],"import React, { useContext, useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Redirect,\n  useHistory,\n} from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { requestUser, receiveUser, userError } from \"./reducer/action\";\n\nimport Home from \"./components/home-page\";\nimport Poll from \"./components/poll-page\";\nimport LogIn from \"./components/log-in-page\";\nimport User from \"./components/user-page\";\n\nfunction App() {\n  const userState = useSelector((state) => state.user);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const loggedInUser = localStorage.getItem(\"user\");\n    if (loggedInUser && !userState.user) {\n      const foundUser = JSON.parse(loggedInUser);\n      dispatch(receiveUser(foundUser));\n    } else if (userState.user) {\n      <Redirect to={'/'} />\n    }\n  }, [userState]);\n\n  return (\n    <Router>\n      {userState.user ? (\n        <>\n          <Route exact path={\"/\"}>\n            <Home />\n          </Route>\n          <Route path={\"/poll/:pollId\"}>\n            <Poll />\n          </Route>\n          <Route path={\"/user/:userId\"}>\n            <User />\n          </Route>\n        </>\n      ) : (\n        <Route exact path={\"/\"}>\n          <LogIn />\n        </Route>\n      )}\n    </Router>\n  );\n}\n\nexport default App;\n","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\GlobalStyles.js",[],"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\components\\home-page\\index.jsx",["64","65","66"],"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\components\\poll-page\\index.jsx",["67","68","69","70"],"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\components\\log-in-page\\index.jsx",["71"],"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\components\\user-page\\index.jsx",["72"],"import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { SERVER_URL } from \"../../constant\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  userLogout,\r\n  receivePolls,\r\n  requestPolls,\r\n  pollError,\r\n} from \"../../reducer/action\";\r\nimport { COLOR } from \"../../constant\";\r\n\r\nfunction User() {\r\n  const userState = useSelector((state) => state.user);\r\n  const pollState = useSelector((state) => state.poll);\r\n\r\n  const [hover, setHover] = useState(-1);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleLogout = (ev) => {\r\n    ev.preventDefault();\r\n\r\n    dispatch(userLogout());\r\n\r\n    history.push(\"/\");\r\n\r\n    localStorage.clear();\r\n  };\r\n  const fetchAllPolls = () => {\r\n    dispatch(requestPolls());\r\n\r\n    fetch(SERVER_URL + `/api/getpolls`)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        dispatch(receivePolls(data.polls));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(pollError(err.message));\r\n      });\r\n  };\r\n\r\n  const handleNavigateHome = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const handleMouseEnter = (index) => {\r\n    setHover(index);\r\n  };\r\n  const handleMouseLeave = () => {\r\n    setHover(-1);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (pollState.polls.length === 0) {\r\n      fetchAllPolls();\r\n    }\r\n  }, []);\r\nconsole.log(userState.user.votes, pollState.polls, localStorage)\r\n  return (\r\n    <>\r\n      <NavContainer>\r\n        <Buttons>\r\n          <Button onClick={handleNavigateHome}>Go Back Home</Button>\r\n          {userState && <Button onClick={handleLogout}>Adi√≥s</Button>}\r\n        </Buttons>\r\n      </NavContainer>{\" \"}\r\n      {userState.user.votes.length > 0 ? (\r\n        <Links>\r\n          {userState.user.votes.map((userPoll, index) => {\r\n            return (\r\n              <LinkContainer>\r\n                <HoverLink style={hover === index ? { color: `${COLOR.SAND}` } : null}>\r\n                  {\">\"}\r\n                </HoverLink>\r\n                <PollLink\r\n                  to={`/poll/${userPoll}`}\r\n                  onMouseOver={() => handleMouseEnter(index)}\r\n                  onMouseLeave={handleMouseLeave}\r\n                  onFocus={() => handleMouseEnter(index)}\r\n                  onBlur={handleMouseLeave}\r\n                >\r\n                  {pollState.polls.find((poll) => poll._id === userPoll).pollName}\r\n                </PollLink>\r\n              </LinkContainer>\r\n            );\r\n          })}\r\n        </Links>\r\n      ) : (\r\n        <NoVoteYet>you didn't vote yet</NoVoteYet>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default User;\r\n\r\nconst NavContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n`;\r\nconst Buttons = styled.div``;\r\nconst Button = styled.button`\r\n  background-color: ${COLOR.ROCK};\r\n  border: 2px solid ${COLOR.WOOD};\r\n  border-radius: 5px;\r\n  padding: 5px 10px;\r\n  margin: 5px;\r\n  color: ${COLOR.SAND};\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: ${COLOR.SAND};\r\n    border: 2px solid ${COLOR.SAND};\r\n    color: ${COLOR.ROCK};\r\n  }\r\n`;\r\nconst Links = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin: 20px;\r\n`;\r\nconst PollLink = styled(Link)`\r\n  color: black;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  line-height: 30px;\r\n  margin-left: 10px;\r\n`;\r\nconst LinkContainer = styled.div`\r\n  display: flex;\r\n  height: 30px;\r\n`;\r\n\r\nconst NoVoteYet = styled.p``;\r\nconst HoverLink = styled.p`\r\n  color: ${COLOR.ROCK};\r\n  font-weight: bold;\r\n  transition: all 0.2s;\r\n  font-size: 1.2em;\r\n  line-height: 30px;\r\n`;\r\n","C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\constant.js",[],"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\reducer\\user-reducer.js",[],"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\reducer\\action.js",[],"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\reducer\\store.js",[],"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\reducer\\index.js",[],"C:\\Users\\alexa\\Documents\\GitHub\\lungor\\src\\reducer\\poll-reducer.js",[],{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":1,"column":17,"nodeType":"79","messageId":"80","endLine":1,"endColumn":27},{"ruleId":"77","severity":1,"message":"81","line":6,"column":3,"nodeType":"79","messageId":"80","endLine":6,"endColumn":13},{"ruleId":"77","severity":1,"message":"82","line":9,"column":10,"nodeType":"79","messageId":"80","endLine":9,"endColumn":21},{"ruleId":"77","severity":1,"message":"83","line":9,"column":36,"nodeType":"79","messageId":"80","endLine":9,"endColumn":45},{"ruleId":"84","severity":1,"message":"85","line":29,"column":6,"nodeType":"86","endLine":29,"endColumn":17,"suggestions":"87"},{"ruleId":"77","severity":1,"message":"83","line":15,"column":3,"nodeType":"79","messageId":"80","endLine":15,"endColumn":12},{"ruleId":"88","severity":1,"message":"89","line":181,"column":42,"nodeType":"90","messageId":"91","endLine":181,"endColumn":44},{"ruleId":"84","severity":1,"message":"92","line":200,"column":6,"nodeType":"86","endLine":200,"endColumn":8,"suggestions":"93"},{"ruleId":"77","severity":1,"message":"83","line":14,"column":3,"nodeType":"79","messageId":"80","endLine":14,"endColumn":12},{"ruleId":"88","severity":1,"message":"89","line":106,"column":42,"nodeType":"90","messageId":"91","endLine":106,"endColumn":44},{"ruleId":"84","severity":1,"message":"92","line":127,"column":6,"nodeType":"86","endLine":127,"endColumn":8,"suggestions":"94"},{"ruleId":"88","severity":1,"message":"95","line":139,"column":45,"nodeType":"90","messageId":"96","endLine":139,"endColumn":47},{"ruleId":"97","severity":1,"message":"98","line":51,"column":25,"nodeType":"99","messageId":"100","endLine":51,"endColumn":27},{"ruleId":"84","severity":1,"message":"92","line":60,"column":6,"nodeType":"86","endLine":60,"endColumn":8,"suggestions":"101"},"no-native-reassign",["102"],"no-negated-in-lhs",["103"],"no-unused-vars","'useContext' is defined but never used.","Identifier","unusedVar","'useHistory' is defined but never used.","'requestUser' is defined but never used.","'userError' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["104"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","React Hook React.useEffect has missing dependencies: 'fetchAllPolls' and 'pollState.polls.length'. Either include them or remove the dependency array.",["105"],["106"],"Array.prototype.map() expects a value to be returned at the end of arrow function.","expectedAtEnd","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["107"],"no-global-assign","no-unsafe-negation",{"desc":"108","fix":"109"},{"desc":"110","fix":"111"},{"desc":"110","fix":"112"},{"desc":"110","fix":"113"},"Update the dependencies array to be: [dispatch, userState]",{"range":"114","text":"115"},"Update the dependencies array to be: [fetchAllPolls, pollState.polls.length]",{"range":"116","text":"117"},{"range":"118","text":"117"},{"range":"119","text":"117"},[846,857],"[dispatch, userState]",[4725,4727],"[fetchAllPolls, pollState.polls.length]",[3207,3209],[1404,1406]]